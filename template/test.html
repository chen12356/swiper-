<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>jQuery和CSS3堆叠式轮播图特效|DEMO_jQuery之家-自由分享jQuery、html5、css3的插件库</title>
    <link rel="stylesheet" href="../static/css/yuan_fen/style.css">
</head>
<body>
<div class="htmleaf-container">
    <div class="container">
        <div class="card-stack">
            <a class="buttons prev" href="#">&lt;</a>
            <ul class="card-list">
                <li class="card" style="background-color: white">
                </li>
                <li class="card" style="background-color: red">
                </li>
                <li class="card" style="background-color: blue">

                </li>
            </ul>
            <a class="buttons next" href="#">></a>
        </div>
    </div>
</div>

<script type="text/javascript" src="../static/js/jquery.js"></script>
<script>
    var $card = $('.card');
    var lastCard = $(".card-list .card").length - 1;

    $('.next').click(function () {
        var prependList = function () {
            if ($('.card').hasClass('activeNow')) {
                var $slicedCard = $('.card').slice(lastCard).removeClass('transformThis activeNow');
                $('ul').prepend($slicedCard);
            }
        }
        $('li').last().removeClass('transformPrev').addClass('transformThis').prev().addClass('activeNow');
        setTimeout(function () {
            prependList();
        }, 150);
    });

    $('.prev').click(function () {
        var appendToList = function () {
            if ($('.card').hasClass('activeNow')) {
                var $slicedCard = $('.card').slice(0, 1).addClass('transformPrev');
                $('.card-list').append($slicedCard);
            }
        };

        $('li').removeClass('transformPrev').last().addClass('activeNow').prevAll().removeClass('activeNow');
        setTimeout(function () {
            appendToList();
        }, 150);
    });
</script>
</body>
</html>